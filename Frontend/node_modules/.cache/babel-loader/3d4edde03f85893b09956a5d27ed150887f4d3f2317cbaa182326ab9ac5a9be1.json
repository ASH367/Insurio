{"ast":null,"code":"import { getOrCreateSessionId } from \"./session\";\nconst MAX_MESSAGES = 30;\nexport function saveMessageToHistory(message) {\n  const sessionId = getOrCreateSessionId();\n  const key = `chat-history-${sessionId}`;\n  let history = JSON.parse(localStorage.getItem(key)) || [];\n\n  // Add new message\n  history.push(message);\n\n  // Keep only the last 30\n  if (history.length > MAX_MESSAGES) {\n    history = history.slice(history.length - MAX_MESSAGES);\n  }\n  localStorage.setItem(key, JSON.stringify(history));\n}\nexport function getChatHistory() {\n  const sessionId = getOrCreateSessionId();\n  const key = `chat-history-${sessionId}`;\n  return JSON.parse(localStorage.getItem(key)) || [];\n}","map":{"version":3,"names":["getOrCreateSessionId","MAX_MESSAGES","saveMessageToHistory","message","sessionId","key","history","JSON","parse","localStorage","getItem","push","length","slice","setItem","stringify","getChatHistory"],"sources":["/Users/ashishubale/Desktop/Projects/Insurio/insurio-app/src/utils/chatHistory.js"],"sourcesContent":["import { getOrCreateSessionId } from \"./session\";\n\nconst MAX_MESSAGES = 30;\n\nexport function saveMessageToHistory(message) {\n  const sessionId = getOrCreateSessionId();\n  const key = `chat-history-${sessionId}`;\n  let history = JSON.parse(localStorage.getItem(key)) || [];\n\n  // Add new message\n  history.push(message);\n\n  // Keep only the last 30\n  if (history.length > MAX_MESSAGES) {\n    history = history.slice(history.length - MAX_MESSAGES);\n  }\n\n  localStorage.setItem(key, JSON.stringify(history));\n}\n\nexport function getChatHistory() {\n  const sessionId = getOrCreateSessionId();\n  const key = `chat-history-${sessionId}`;\n  return JSON.parse(localStorage.getItem(key)) || [];\n}\n"],"mappings":"AAAA,SAASA,oBAAoB,QAAQ,WAAW;AAEhD,MAAMC,YAAY,GAAG,EAAE;AAEvB,OAAO,SAASC,oBAAoBA,CAACC,OAAO,EAAE;EAC5C,MAAMC,SAAS,GAAGJ,oBAAoB,CAAC,CAAC;EACxC,MAAMK,GAAG,GAAG,gBAAgBD,SAAS,EAAE;EACvC,IAAIE,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAACL,GAAG,CAAC,CAAC,IAAI,EAAE;;EAEzD;EACAC,OAAO,CAACK,IAAI,CAACR,OAAO,CAAC;;EAErB;EACA,IAAIG,OAAO,CAACM,MAAM,GAAGX,YAAY,EAAE;IACjCK,OAAO,GAAGA,OAAO,CAACO,KAAK,CAACP,OAAO,CAACM,MAAM,GAAGX,YAAY,CAAC;EACxD;EAEAQ,YAAY,CAACK,OAAO,CAACT,GAAG,EAAEE,IAAI,CAACQ,SAAS,CAACT,OAAO,CAAC,CAAC;AACpD;AAEA,OAAO,SAASU,cAAcA,CAAA,EAAG;EAC/B,MAAMZ,SAAS,GAAGJ,oBAAoB,CAAC,CAAC;EACxC,MAAMK,GAAG,GAAG,gBAAgBD,SAAS,EAAE;EACvC,OAAOG,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAACL,GAAG,CAAC,CAAC,IAAI,EAAE;AACpD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}